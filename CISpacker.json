{
"builders": [{
  "type": "amazon-ebs",
  "region": "ap-southeast-1",
  "source_ami": "ami-cd49deae",
  "instance_type": "t2.micro",
  "vpc_id": "",
  "subnet_id": "",
  "ssh_username": "centos",
  "ami_name": "packer-CIS {{timestamp}}",
  "tags": {
  "Application": "DevOps",
  "Description": "demo for packer",
  "Donotstop": "true",
  "Owner-Email": "siva.katam@blazeclan.com",
  "ProjectCode": "demo code"
}
}],
"provisioners": [{
  "type": "shell",
  "script": "script.sh",
  "pause_before": "10s"
},
 {
    "type": "ansible-local",
    "playbook_file": "playbook.yml",
    "ansible_env_vars": [ "ANSIBLE_HOST_KEY_CHECKING=False", "ANSIBLE_SSH_ARGS='-o ForwardAgent=yes -o ControlMaster=auto -o ControlPersist=60s'", "ANSIBLE_NOCOLOR=True","become=true","become_method=sudo" ],
    "role_paths": [
            "roles/cis"
      ]
  }]
}
